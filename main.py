#Дмитрук Яны
from transport import Client, Vehicle, Airplane, Van, TransportCompany  # импортируем все классы из пакета transport

def main():  # определяем главную функцию программы
    company = TransportCompany("Белтранс")   

    while True:  
        print("\nМеню:")  # выводим заголовок меню
        print("1. Вывести все записи клиентов")  # пункт меню для вывода клиентов
        print("2. Вывести весь список транспорта (ID и грузоподъёмность)")  # пункт меню для вывода транспорта
        print("3. Добавить запись клиента")  # пункт меню для добавления клиента
        print("4. Удалить запись клиента по имени")  # пункт меню для удаления клиента
        print("5. Выполнить распределение грузов")  # пункт меню для оптимизации распределения
        print("6. Вывести подробную информацию о транспорте")  # пункт меню для подробного вывода транспорта
        print("7. Добавить транспортное средство")  # пункт меню для добавления транспорта
        print("8. Выйти из программы")  # пункт меню для выхода

        choice = input("Выберите пункт меню: ")  # считываем выбор пользователя

        if choice == "1":  # если выбрали пункт 1
            if company.clients:  # проверяем, есть ли клиенты
                for c in company.clients:  # перебираем всех клиентов
                    print(c)  # выводим клиента (используется __str__)
            else:
                print("Список клиентов пуст.")  # если клиентов нет

        elif choice == "2":  # если выбрали пункт 2
            if company.vehicles:  # проверяем, есть ли транспорт
                for v in company.list_vehicles():  # перебираем транспорт
                    print(f"ID: {v.vehicle_id}, грузоподъёмность: {v.capacity} тонн")  # краткая информация
            else:
                print("Список транспорта пуст.")  # если транспорта нет

        elif choice == "3":  # если выбрали пункт 3
            name = input("Введите имя клиента: ")  # вводим имя клиента
            try:
                weight = float(input("Введите вес груза: "))  # вводим вес груза и преобразуем в число
            except ValueError:  # если введено не число
                print("Ошибка: вес должен быть числом.")  # сообщение об ошибке
                continue  # возвращаемся в меню
            vip = input("VIP клиент? (y/n): ").lower() == "y"  # определяем VIP-статус
            company.add_client(Client(name, weight, vip))  # добавляем клиента в компанию
            print("Клиент добавлен.")  # сообщаем об успешном добавлении

        elif choice == "4":  # если выбрали пункт 4
            name = input("Введите имя клиента для удаления: ")  # вводим имя клиента
            found = False  # флаг найденного клиента
            for c in company.clients:  # перебираем всех клиентов
                if c.name == name:  # если имя совпадает
                    company.clients.remove(c)  # удаляем клиента
                    print(f"Клиент {name} удалён.")  # сообщаем об удалении
                    found = True  # меняем флаг
                    break  # прерываем цикл
            if not found:  # если клиент не найден
                print(f"Клиент {name} не найден.")  # сообщаем об этом

        elif choice == "5":  # если выбрали пункт 5
            company.optimize_cargo_distribution()  # запускаем оптимизацию распределения грузов
            print("Распределение грузов выполнено.")  # сообщаем об успешном выполнении

        elif choice == "6":  # если выбрали пункт 6
            if company.vehicles:  # проверяем, есть ли транспорт
                for v in company.list_vehicles():  # перебираем транспорт
                    print(v)  # выводим подробную информацию (__str__)
            else:
                print("Список транспорта пуст.")  # если транспорта нет

        elif choice == "7":  # если выбрали пункт 7
            print("Выберите тип транспорта:")  # предлагаем выбрать тип
            print("1. Airplane (самолёт)")  # вариант самолёт
            print("2. Van (фургон)")  # вариант фургон
            t_choice = input("Ваш выбор: ")  # считываем выбор

            if t_choice == "1":  # если выбрали самолёт
                try:
                    cap = float(input("Введите грузоподъёмность: "))  # вводим грузоподъёмность
                    alt = int(input("Введите максимальную высоту полёта: "))  # вводим высоту полёта
                except ValueError:  # если введено не число
                    print("Ошибка: грузоподъёмность и высота должны быть числами.")  # сообщение об ошибке
                    continue  # возвращаемся в меню
                company.add_vehicle(Airplane(cap, alt))  # добавляем самолёт
                print("Транспорт Airplane добавлен.")  # сообщаем об успешном добавлении

            elif t_choice == "2":  # если выбрали фургон
                try:
                    cap = float(input("Введите грузоподъёмность: "))  # вводим грузоподъёмность
                except ValueError:  # если введено не число
                    print("Ошибка: грузоподъёмность должна быть числом.")  # сообщение об ошибке
                    continue  # возвращаемся в меню
                refr = input("Есть холодильник? (y/n): ").lower() == "y"  # определяем наличие холодильника
                company.add_vehicle(Van(cap, refr))  # добавляем фургон
                print("Транспорт Van добавлен.")  # сообщаем об успешном добавлении

            else:
                print("Неверный выбор типа транспорта.")  # если ввели неправильный вариант

        elif choice == "8":  # если выбрали пункт 8
            print("Выход из программы.")  # сообщаем о выходе
            break  # прерываем цикл и завершаем программу

        else:
            print("Неверный выбор, попробуйте снова.")  # если ввели неправильный пункт

if __name__ == "__main__":  # проверяем, что файл запущен напрямую
    main()  # запускаем главную функцию
